<%= turbo_stream_from "#{conversation.id}_messages_stream" %>

<div class="px-4 pt-0 my-4">
  <div class="scrollbar" id="messages-list" data-controller="conversation-messages-list">
    <% conversation.subconversations.each do |subconversation| %>
      <div class="subconversation">
        <% subconversation.each do |message| %>
          <%= render partial: "front/messages/message", locals: { message: } %>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="message-form mt-5">
    <%= render partial: "/front/messages/form", locals: { conversation:, message: @message } %>
  </div>

  <div class="d-flex justify-content-end">
    <div class="form-check form-switch align-self-end">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Show tool steps</label>
    </div>
  </div>
</div>
